"use strict";(self.webpackChunkchatbot=self.webpackChunkchatbot||[]).push([[774],{6774:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(6540),o=a(2845),l=a(181);a(5138);const s=function(){const e=(0,l.Zp)(),[t,a]=(0,n.useState)(["","","",""]),[s,c]=(0,n.useState)(!1),r=(0,l.zy)(),i=r.state?.email;return n.createElement("div",{className:"h-full flex justify-center items-center"},n.createElement("div",{className:"rounded-[20px] shadow-md flex flex-col items-center w-full md:w-[676px] md:h-[345px] max-w-[90%] bg-opacity-50 p-6 md:p-8 font-robotoCondensed",style:{backgroundColor:"rgba(255, 255, 255, 0.4)"}},n.createElement(o.N9,null)," ",n.createElement("h2",{className:"text-lg md:text-2xl mt-4 md:mb-8 font-bold text-center"},"Verify Your Email"),n.createElement("p",{className:"text-sm text-center my-1"},"Please Enter your 4 digit OTP Sent to your E-mail"),n.createElement("div",{className:"flex justify-center gap-2 my-4"},t.map(((e,o)=>n.createElement("input",{key:o,id:`otp-input-${o}`,type:"text",placeholder:"_",value:e,onChange:e=>((e,n)=>{const o=e.target.value;if(/[^0-9]/.test(o))return;const l=[...t];l[n]=o,a(l),o&&n<3&&document.getElementById(`otp-input-${n+1}`).focus()})(e,o),onKeyDown:e=>((e,a)=>{"Backspace"===e.key&&!t[a]&&a>0&&document.getElementById("otp-input-"+(a-1)).focus()})(e,o),maxLength:"1",className:"w-[44px] h-[48px] rounded-lg text-center text-2xl focus:outline-none focus:ring-2 focus:ring-eduTheme font-bold"})))),n.createElement("div",{className:"flex justify-center mt-4"},n.createElement("button",{type:"submit",onClick:async()=>{const a=t.join("");if(a.length<4)o.oR.error("Please enter a valid 4-digit OTP");else{c(!0);try{const t=await fetch(`https://edulink-backend-code.vercel.app/v1/auth/verify-otp?otp=${a}&email=${i}`,{method:"GET"}),n=await t.json();t.ok?(localStorage.setItem("authenticatedToken",n.token.access.token),localStorage.setItem("setUserData",n.userData.name),o.oR.success("OTP verified successfully!"),console.log("dataatat",n),e("/edulinks-ai-assistant")):o.oR.error(n.message||"OTP verification failed.")}catch(e){o.oR.error("Something went wrong. Please try again.")}finally{c(!1)}}},disabled:s,className:"bg-eduTheme text-white text-lg md:text-xl font-bold py-1 px-7 rounded-[7px] hover:bg-opacity-90 transition duration-200 flex items-center justify-center "+(s?"opacity-50 cursor-not-allowed":"")},s&&n.createElement("svg",{className:"animate-spin h-5 w-5 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 2.042.735 3.899 1.958 5.291l1.042-1.042z"})),s?"Verifying...":"Verify"))))}}}]);